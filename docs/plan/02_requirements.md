# 功能需求规格说明书

## 1. 引言

本文档详细描述了**每日记录助手**的功能需求，作为开发和测试的依据。

## 2. 功能模块详情

### 2.1 统计总结（首页 / Dashboard）

**功能描述**：作为应用启动后的默认页面，提供用户记录习惯的宏观视图。

**详细需求**：
- **统计概览卡片**：
  - **总记录数**：显示历史累计记录条数，支持显示较上月/周的增长趋势。
  - **连续打卡**：显示当前连续记录天数，不仅是数字，最好有激励性文案（如 "保持住！"）。
- **日历热力图 (Calendar Heatmap)**：
  - 仿 GitHub 贡献图风格。
  - 颜色深浅代表当日记录的数量或字数密度。
  - 支持月份切换（上个月/下个月）。
  - 点击某一天，下方 "每日详情" 区域自动滚动或刷新显示该日期的记录。
- **每日详情列表**：
  - 显示当前选中日期（默认今日）的所有记录。
  - 每条记录包含：时间戳（如 10:00 AM）、标题/摘要、标签（Tag）。
  - 左侧时间轴设计，视觉上连接各条记录。

### 2.2 今日记录（新建/编辑页）

**功能描述**：快速捕捉想法、活动或待办事项的核心界面。

**详细需求**：
- **顶部操作栏**：
  - 显示当前同步状态（WebDAV 已同步/未同步）。
  - 日期选择器：默认今日，可补录过往日期的内容。
  - 天气/地理位置上下文（可选，v2 考虑）。
- **富文本编辑器**：
  - **工具栏**：加粗、斜体、无序列表、任务列表（Checklist）。
  - **快捷插入**：一键插入当前时间（如 "14:32"），方便流水账记录。
  - **字数统计**：实时显示当前字数。
- **保存与反馈**：
  - 悬浮或底部固定的保存按钮。
  - 保存成功后的触感反馈或 Toast 提示。
  - 自动保存机制（可选，防止数据丢失）。

### 2.3 历史记录（列表页）

**功能描述**：浏览过往所有记录，支持检索和回顾。

**详细需求**：
- **搜索栏**：
  - 支持全文搜索。
  - 支持按标签过滤（如输入 "#工作"）。
- **快捷筛选 Chips**：
  - 预置筛选维度：全部、#工作、#生活、总结、已归档。
- **记录列表**：
  - 卡片式布局，按日期倒序排列。
  - **日期块**：左侧醒目显示日期（日/月）。
  - **内容预览**：显示标题（第一行）和部分正文，支持截断（Line clamp）。
  - **状态图标**：显示该条目是否已同步到云端。
  - **图片预览**：如果记录包含图片，在卡片中显示缩略图。
  - **交互**：点击进入详情页/编辑页。

### 2.4 设置管理

**功能描述**：应用的配置中心。

**详细需求**：
- **同步设置**：
  - WebDAV 服务器地址、用户名、密码配置。
  - "立即同步" 按钮。
  - 同步策略选择（仅 Wi-Fi / 蜂窝网络）。
- **外观设置**：
  - 主题切换：跟随系统 / 亮色 / 暗色。
- **数据管理**：
  - 导出数据（JSON/Markdown）。
  - 清除本地缓存。
- **关于应用**：版本号、版权信息。

## 3. 非功能需求

- **性能**：应用启动时间 < 1.5s，列表滚动帧率稳定在 60fps。
- **离线可用性**：所有增删改查操作必须支持离线进行，网络恢复后自动同步。
- **隐私**：不收集用户行为数据，所有记录内容加密存储（后续版本考虑）。
- **兼容性**：Android 10+。
